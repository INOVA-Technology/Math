#!/usr/bin/env ruby

require "minitest/autorun"
require "minitest/pride"
load "convert"

describe Equations do

	before do
		@equations = Equations.new
	end

	describe "hz_to_m" do
		it "must return correct value" do
			@equations.hz_to_m(300e12).must_equal 1.0e-06
			@equations.hz_to_m(3e6).must_equal 100
		end
	end

	describe "m_to_hz" do
		it "must return correct value" do
			@equations.m_to_hz(100e3).must_equal 3e3
			@equations.m_to_hz(100.0e-12).must_equal 3e18
		end
	end

	describe "quadratic_formula" do
		it "must return correct value" do
			@equations.quadratic_formula(1, 2, -3).must_equal [1.0, -3.0]
		end
	end

	describe "pythg_thrm_a_b" do
		it "must return correct value" do
			@equations.pythg_thrm_a_b(3, 4).must_equal 5
		end
	end

	describe "pythg_thrm_b_c" do
		it "must return correct value" do
			@equations.pythg_thrm_b_c(4, 5).must_equal 3
		end
	end

	describe "equation does not exist" do
		it "must warn user" do
			@equations.doesnt_exist(500).must_equal "That equation doesn't exist here yet."
		end
	end

end

describe "Cli" do

	before do
		@cli = Cli.new
		@error_msg = "Invalid number"
	end

	describe "an equation is ran" do
		it "must warn user if an invalid number is used" do
			@cli.doesnt_matter("hello").must_equal @error_msg
			@cli.doesnt_matter("34five").must_equal @error_msg
			@cli.doesnt_matter("q12").must_equal @error_msg
		end

		it "must work if a valid equation is ran" do
			@cli.doesnt_matter("123").wont_equal @error_msg
			@cli.doesnt_matter("12e3").wont_equal @error_msg
			@cli.doesnt_matter("1e-4").wont_equal @error_msg
		end
	end

end